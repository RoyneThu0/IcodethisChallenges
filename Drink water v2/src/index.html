<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Drink Water</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
  </head>
  <body
    class="bg-cover bg-center h-screen w-screen flex items-center justify-center min-h-screen p-4"
    style="
      background-image: url(https://realtimevfx.com/uploads/default/original/3X/1/a/1a6626cd432b3b6e61801da89250e6af91127f85.gif);
    "
  >
    <div
      class="bg-blue-300 w-full max-w-sm rounded-lg p-4 sm:p-6 shadow-slate-900 shadow-md"
    >
      <div class="flex justify-between items-center mb-4">
        <div class="w-6 h-6"></div>
        <div class="w-6 h-6">
          <svg
            class="w-full h-full text-white"
            fill="currentColor"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M10 18a8 8 0 100-16 8 8 0 000 16zm.5-13a.5.5 0 00-1 0v5a.5.5 0 001 0V5zm-.75 8a.75.75 0 101.5 0 .75.75 0 00-1.5 0z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </div>
      </div>

      <div class="text-center text-white mb-4">
        <p class="text-lg">Today</p>
        <p id="watertotal" class="text-2xl font-bold">0l of 2l</p>
      </div>

      <div
        id="waterDots"
        class="flex flex-wrap justify-center gap-2 mb-4 min-h-[40px]"
      ></div>

      <div class="flex justify-center mb-4">
        <img
          class="h-64"
          src="https://pngimg.com/d/water_bottle_PNG98936.png"
          alt="Water Bottle"
        />
      </div>

      <div class="flex justify-center mb-6">
        <button
          id="drinkWaterBtn"
          class="bg-gradient-to-b from-white from-70% to-blue-400 hover:scale-110 hover:shadow-none duration-300 text-blue-700 rounded-full px-4 py-2 shadow-md shadow-slate-500"
        >
          Drink Water
        </button>
      </div>

      <div class="bg-blue-200 rounded-lg p-2">
        <p class="text-start text-blue-700 font-semibold text-sm mb-2">
          YOUR STREAK
        </p>
        <div class="flex justify-between text-blue-700">
          <span class="flex flex-col items-center" id="day-s">
            <span class="text-sm">S</span>
            <span class="block w-4 h-4 mt-1 bg-blue-700 rounded-full"></span>
          </span>
          <span class="flex flex-col items-center" id="day-m">
            <span class="text-sm">M</span>
            <span class="block w-4 h-4 mt-1 bg-blue-700 rounded-full"></span>
          </span>
          <span class="flex flex-col items-center" id="day-t">
            <span class="text-sm font-bold">T</span>
            <span
              class="block w-4 h-4 mt-1 bg-blue-700 rounded-full ring-2 ring-white"
            ></span>
          </span>
          <span class="flex flex-col items-center" id="day-w">
            <span class="text-sm">W</span>
            <span
              class="block w-4 h-4 mt-1 border-2 border-blue-700 rounded-full"
            ></span>
          </span>
          <span class="flex flex-col items-center" id="day-th">
            <span class="text-sm">T</span>
            <span
              class="block w-4 h-4 mt-1 border-2 border-blue-700 rounded-full"
            ></span>
          </span>
          <span class="flex flex-col items-center" id="day-f">
            <span class="text-sm">F</span>
            <span
              class="block w-4 h-4 mt-1 border-2 border-blue-700 rounded-full"
            ></span>
          </span>
          <span class="flex flex-col items-center" id="day-sa">
            <span class="text-sm">S</span>
            <span
              class="block w-4 h-4 mt-1 border-2 border-blue-700 rounded-full"
            ></span>
          </span>
        </div>
      </div>
    </div>

    <script>
      let waterIntake = 0;
      const waterPerDrink = 0.25; // 250ml or 0.25l per drink
      const dailyGoal = 2; // 2 liters
      const drinkWaterBtn = document.getElementById("drinkWaterBtn");
      const waterTotal = document.getElementById("watertotal");
      const waterDotsContainer = document.getElementById("waterDots");

      function addWaterDot() {
        const dot = document.createElement("span");
        dot.className =
          "w-3 h-3 sm:w-4 sm:h-4 bg-white rounded-full animate-bounce water-dot";
        setTimeout(() => {
          dot.classList.remove("animate-bounce");
        }, 500);
        waterDotsContainer.appendChild(dot);
      }

      function updateWaterIntake() {
        waterIntake += waterPerDrink;
        if (waterIntake > dailyGoal) {
          waterIntake = dailyGoal;
        }
        waterTotal.textContent = `${waterIntake.toFixed(1)}l of ${dailyGoal}l`;
        addWaterDot();

        // Add visual feedback
        drinkWaterBtn.classList.add("scale-95");
        setTimeout(() => {
          drinkWaterBtn.classList.remove("scale-95");
        }, 100);

        // Check if goal is reached
        if (waterIntake >= dailyGoal) {
          // Turn all water dots blue
          const allDots = document.querySelectorAll(".water-dot");
          allDots.forEach((dot) => {
            dot.classList.remove("bg-white");
            dot.classList.add("bg-blue-700");
          });

          // Fill in Tuesday's streak
          const tuesdayDot = document.querySelector("#day-t span:last-child");
          tuesdayDot.classList.add("ring-4", "ring-green-400");

          setTimeout(() => {
            alert("ðŸŽ‰ Congratulations! You reached your daily water goal!");
          }, 300);
        }
      }

      drinkWaterBtn.addEventListener("click", updateWaterIntake);
    </script>
  </body>
</html>
