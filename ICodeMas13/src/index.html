<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Virtual Assistant Chat</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body class="bg-gray-300 min-h-screen flex items-center justify-center">
    <div class="flex flex-col items-center justify-center w-full min-h-screen">
      <div class="relative w-full max-w-md px-2">
        <div
          id="chat-container"
          class="bg-white rounded-2xl shadow-xl overflow-hidden pt-0 pb-0 transition-all duration-300"
          style="margin-top: 40px"
        >
          <div class="bg-blue-600 px-8 py-6 text-center">
            <h2 class="text-2xl font-semibold text-white mb-2">
              Virtual assistant
            </h2>
            <p class="text-blue-100 text-sm">
              Our virtual assistant is ready to assist you, making your online
              experience seamless and enjoyable
            </p>
          </div>
          <div id="chat-messages" class="px-6 py-8 bg-white min-h-[180px]">
            <div class="flex items-start mb-2">
              <img
                src="https://static.vecteezy.com/system/resources/previews/020/026/488/non_2x/santa-icon-3d-png.png"
                alt="Santa avatar"
                class="w-12 h-12 rounded-full border-4 border-white shadow -mt-4 mr-3 bg-white object-cover"
              />
              <div>
                <div
                  class="bg-gray-100 rounded-md px-4 py-2 text-gray-700 mb-1 max-w-xs"
                >
                  Hi there, my child!
                </div>
                <div
                  class="bg-gray-100 rounded-md px-4 py-2 text-gray-700 max-w-xs"
                >
                  What can I help you with?
                </div>
                <div class="text-xs text-gray-400 mt-1">
                  Santa Klaus, 7 minutes ago
                </div>
              </div>
            </div>

            <div class="flex flex-col items-end">
              <div
                class="bg-blue-50 rounded-md px-4 py-2 text-gray-700 mb-1 max-w-xs"
              >
                Hello, Santa!
              </div>
              <div
                class="bg-blue-50 rounded-md px-4 py-2 text-gray-700 max-w-xs"
              >
                I’d like to know when you’ll bring my gift?
              </div>
            </div>
          </div>
          <div
            id="chat-input-row"
            class="border-t px-6 py-4 bg-white flex items-center"
          >
            <input
              id="chat-input"
              type="text"
              placeholder="What can I help you with?"
              class="flex-1 border-none outline-none bg-transparent text-gray-700 placeholder-gray-400 text-base"
            />
            <button
              id="send-btn"
              class="ml-3 w-10 h-10 bg-blue-600 flex items-center justify-center hover:bg-blue-700 text-white rounded-full p-2 transition-colors duration-200"
            >
              <i class="fa-solid fa-paper-plane text-lg"></i>
            </button>
          </div>
        </div>
        <button
          id="collapse-btn"
          class="absolute right-4 -bottom-14 bg-blue-600 hover:bg-blue-700 text-white rounded-full w-12 h-12 flex items-center justify-center shadow-lg transition-colors duration-200"
        >
          <i
            id="collapse-arrow"
            class="fa-solid fa-chevron-down text-2xl transition-transform duration-300"
          ></i>
        </button>
      </div>
    </div>
    <script>
      // Collapse/expand chat
      const collapseBtn = document.getElementById("collapse-btn");
      const chatContainer = document.getElementById("chat-container");
      const chatInputRow = document.getElementById("chat-input-row");
      const chatMessages = document.getElementById("chat-messages");
      const collapseArrow = document.getElementById("collapse-arrow");
      let collapsed = false;
      collapseBtn.addEventListener("click", () => {
        collapsed = !collapsed;
        if (collapsed) {
          chatMessages.style.display = "none";
          chatInputRow.style.display = "none";
          chatContainer.style.borderRadius = "1rem";
          collapseArrow.style.transform = "rotate(180deg)";
        } else {
          chatMessages.style.display = "";
          chatInputRow.style.display = "flex";
          chatContainer.style.borderRadius = "";
          collapseArrow.style.transform = "";
        }
      });

      // Send message
      const sendBtn = document.getElementById("send-btn");
      const chatInput = document.getElementById("chat-input");
      function sendMessage() {
        const text = chatInput.value.trim();
        if (!text) return;
        // Create user message
        const userMsgDiv = document.createElement("div");
        userMsgDiv.className = "flex flex-col mt-1 items-end";
        const msgBubble = document.createElement("div");
        msgBubble.className =
          "bg-blue-50 rounded-md px-4 py-2 text-gray-700 mb-1 max-w-xs";
        msgBubble.textContent = text;
        userMsgDiv.appendChild(msgBubble);
        chatMessages.appendChild(userMsgDiv);
        chatInput.value = "";
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }
      sendBtn.addEventListener("click", sendMessage);
      chatInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter") sendMessage();
      });
    </script>
  </body>
</html>
